---
layout: post
title: "modules, classes, pterosaurs"
date: 2013-10-17 12:50
comments: true
categories: ruby modules
---
{% img illustration http://upload.wikimedia.org/wikipedia/commons/3/38/Homology.jpg 'wings' 'Pterosaur, bat, and bird wings' %}

Pterosaurs, bats, and birds can/could all fly, but each evolved the ability independent of the others. This is an example of [convergent evolution](http://en.wikipedia.org/wiki/Convergent_evolution), the *"independent evolution of similar features in species of different lineages"*. The wings of bats, pterosaurs, and birds, the body-plans of marsupials and mammals, and the eyes of vertebrates and cephalopods are just some examples of this.

In Ruby, classes allow objects to be arranged into a hierarchical lineage, using inheritence to pass features from a parent class to all it's descendants. But we often want to share functionality across unrelated classes. Modules allow us to do just that. Let's consider the case of pterosaurs and bats.

``` ruby
module Flyable
  def fly
    puts "A #{self.class} is flying."
  end
end

class Bat
  include Flyable

  def echolocate
    puts "A #{self.class} can see in the dark."
  end
end

class Pterosaur
  include Flyable
end

bert = Bat.new
bert.fly
# => "A Bat is flying."

phil = Pterosaur.new
phil.fly
# => "A Pterosaur is flying."
```

Contrast this with sharing functionality via classes. Let's create a couple species of bat by defining descendants of the Bat class:

``` ruby
class SeminoleBat < Bat
end

class CanyonBat < Bat
end

sam = SeminoleBat.new
sam.echolocate
# => "A SeminoleBat can see in the dark."

candice = CanyonBat.new
candice.echolocate
# => "A CanyonBat can see in the dark."
```

Both `sam` and `candice` can echolocate, since both `SeminoleBat` and `CanyonBat` are descendants of the `Bat` class. Features defined in `Bat` are inherited by `SeminoleBat` and `CanyonBat`. But `Pterosaur` is unrelated to `Bat`, and cannot echolocate.

``` ruby
phil.echolocate
# => NoMethodError: undefined method `echolocate' for #<Pterosaur:0x007fdcbc082eb0>
```

There is a bit more to Modules (they can be used to define class methods as well as instance methods, and they can include constants), but the general purpose they serve is to enable sharing functionality across unrelated classes.